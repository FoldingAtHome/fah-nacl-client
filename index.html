<!DOCTYPE html>
<!--
              This file is part of the Folding@home NaCl Client

        Copyright (c) 2013-2014, Hong Kong University Science & Technology
               Copyright (c) 2013-2014, Stanford University
                             All rights reserved.

        This software is free software: you can redistribute it and/or
        modify it under the terms of the GNU Lesser General Public License
        as published by the Free Software Foundation, either version 2.1 of
        the License, or (at your option) any later version.

        This software is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
        Lesser General Public License for more details.

        You should have received a copy of the GNU Lesser General Public
        License along with this software.  If not, see
        <http://www.gnu.org/licenses/>.

                For information regarding this software email:
                               Joseph Coffland
                        joseph@cauldrondevelopment.com
-->

<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="author" content="Joseph Coffland">

    <title>Folding@home Chrome Client</title>

    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>

    <!-- Facebook Open Graph Tags -->
    <meta property="og:image"
          content="http://folding.stanford.edu/nacl/images/fah-logo.png"/>
    <meta property="og:url"
          content="http://folding.stanford.edu/nacl/"/>
    <meta property="og:title" content="Folding@home Web App"/>
    <meta property="og:description"
          content="Run Folding@home in your browser with Google Chrome."/>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.0/jquery.cookie.min.js"></script>
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/smoothness/jquery-ui.css"/>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script src="https://apis.google.com/js/plusone.js"></script>
    <script src="js/intercom.min.js"></script>
    <link rel="stylesheet" href="style/style.css"/>
    <script src="js/main.js"></script>
    <script src="js/bug.js"></script>
  </head>

  <body>
    <div id="header"></div>

    <div id="panel">
      <div id="panel-header">
        <table id="menu"><tr>
            <td class="left">
              <span>Share:</span>
              <span>
                <a href="#" class="facebook">
                  <img src="images/facebook.png"/>
                </a>
              </span>
              <span>
                <a href="#" class="twitter"><img src="images/twitter.png"/></a>
              </span>
              <span class="google-button">
                <div class="g-plusone" data-size="standard"
                     data-href="http://folding.stanford.edu/nacl/"></div>
              </span>
            </td>
            <td class="middle">
              <span>
                <a class="dialog-link button" name="learn" href="#">Learn</a>
              </span>
              <span>
                <a class="button" href="http://folding.stanford.edu/home/blog"
                   >News</a>
              </span>
              <span>
                <a class="dialog-link button" name="help" href="#">Help</a>
              </span>
            </td><td class="right">
              <span>
                <a class="desktop button" title="Try our desktop application."
                   href="http://folding.stanford.edu/">Desktop App
                  <img src="images/link.png"/>
                </a>
              </span>
            </td>
        </tr></table>
      </div>

      <div id="identity">
        <p>
          Folding as <input class="user" tabindex="1" value="Anonymous"/> for
          <a class="dialog-link" name="team" href="#">team</a>
          <input class="team" tabindex="2" value="0"/> with
          <a class="dialog-link" name="passkey" href="#">passkey</a>
          <input class="passkey" tabindex="3" type="password" value=""/>.
          <a class="save-id button" title="Save your identity."
             href="#">Save <img src="images/save.png"/></a>
        </p>
        <p id="points">Loading...</p>
      </div>

      <div id="control">
        <div class="what">
          <a class="dialog-link" name="progress-bar"
             href="#">What's this?</a>
        </div>

        <div id="status">
          <div id="status-image" class="stopped"></div>
          <div id="progress"><div></div></div>
          <div id="status-text">Initializing.</div>
        </div>

        <p id="eta"></p>

        <div id="power-slider">
          <div class="what">
            <a class="dialog-link" name="folding-power"
               href="#">What's this?</a>
          </div>
          <span>Folding Power</span>
          <div id="slider"></div>
          <ul>
            <li class="label-1">Light</li>
            <li class="label-2">Medium</li>
            <li class="label-3">Full</li>
          </ul>
        </div>

        <div class="folding-start">
          <div class="button">Start Folding</div>
          <p>
            Folding is currently paused.  When you are ready, click the button
            above to start folding.
          </p>
        </div>
        <div class="folding-stop">
          <div class="button">Stop Folding</div>
          <p>
            When you visit this page your computer will automatically start
            to fight disease by running protein folding simulations for
            scientists around the world.  We call this "folding".  You can stop
            folding at any time by clicking the button above.
          </p>
        </div>
      </div>

      <div id="project">
        <div class="what">
          <a class="dialog-link" name="project-box"
             href="#">What's this?</a>
        </div>

        <h4>You are contributing to project <span class="project">N/A</span>.
        </h4>
        <div class="brief"></div>
      </div>
      <div class="clearfix"></div>
    </div>
    <div id="footer">
      Copyright &copy; 2013-2014. <a href="http://www.ust.hk/">Hong Kong
        University Science &amp; Technology</a> and
      <a href="http://stanford.edu/">Stanford University</a>.
    </div>
  </body>

  <div id="dialogs">
    <div id="points-dialog"></div>
    <div id="project-dialog"></div>

    <div title="What's the Progress Bar?" id="progress-bar-dialog">
      <center><img src="images/progressbar.png"/></center>
      <p>
        The progress bar shows an estimate of how long the current task should
        take.  The text directly below the progress bar tells you what task
        the client is currently working on.  Typical tasks are downloading,
        waiting, running a simulation or sending back results.
      </p>
    </div>

    <div title="What's the Project Box?" id="project-box-dialog">
      <p>
        Scientists submit simulation projects to Folding@home.
        The project box displays information about the simulation project
        currently running on your computer.  It tells you information about
        the science, the type of disease being targeted and the person
        or persons responsible for the research.
      </p>
    </div>

    <div title="What's Folding Power?" id="folding-power-dialog">
      <center><img src="images/folding-power.png"/></center>
      <p>
        Folding power controls how much of your computer's resources
        Folding@home uses.  If you want to see what your high performance
        system can do crank it up to <em>Full</em>.  If your computer
        starts to stress out move it to <em>Light</em> to give it a
        break.
      </p>

      <p>These settings have the following meaning:</p>
      <table>
        <tr><th>Light</th><td>20%</td></tr>
        <tr><th>Medium</th><td>60%</td></tr>
        <tr><th>Full</th><td>100%</td></tr>
      </table>

      <p>
        Actual usage will be less than these values and depends on how many
        CPU cores your system has available and what other processes are
        running on your computer at the time.
      </p>
    </div>

    <div title="Identity not saved" id="invalid-id-dialog">
      <img class="icon" src="images/error.png"/>
      <p>We're sorry, the information you entered does not meet our
        requirements.</p>

      <div class="user">
        <h4>Unsupported Name</h4>
        <p>A can contain latin letters, numbers and standard punctuation with
          no white-space.</p>
        <p>Leave it blank to fold anonymously.</p>
      </div>

      <div class="team">
        <h4>Unsupported Team</h4>
        <p>Team indentifiers must be whole numbers no more than ten digits
          long.</p>
        <p>Enter 0 for no team.</p>
      </div>

      <div class="passkey">
        <h4>Unsupported Passkey</h4>
        <p>
          Passkeys must be exactly 32 characters long and contain only:
          0123456789abcdefABCDEF
        </p>
        <p>If you do not have a passkey please leave this field blank.</p>
      </div>

      <p>Nothing was saved.  Please make corrections and try again.</p>
    </div>

    <div title="Help" id="help-dialog">
      <p>Sorry if you're having trouble. There are many online resources to
        help you.
      </p>

      <h4>FAQ</h4>
      <p>Start here to find answers to
        <a href="http://folding.stanford.edu/home/community-support/#faqs"
           >Frequently Asked Questions</a>.
      </p>

      <h4>Community Support</h4>
      <p>The <a href="http://foldingforum.org/">Folding Forum</a> has a very
        active community of expert folders who would be glad to help you
        with any problems you might have. It is also a great place to get
        more involved.
      </p>

      <h4>Software Bugs</h4>
      <p>Please <a class="report-bug" href="#">click here
          <img class="bug-icon" src="images/report-bug.png"/></a>
        to report bugs.
      </p>

      <h4>More Info</h4>
      <p>For more about the science of protein folding and the Folding@home
        project,
        <a href="http://folding.stanford.edu/home/the-science/">click here</a>.
      </p>

      <h4>Credits</h4>
      <a href="http://www.ust.hk"><img class="icon" src="images/hkust.png"/></a>
      <ul>
        <li>Dr. Xuhui Huang - Project Leader</li>
        <li>Joseph Coffland - Software Developer</li>
      </ul>

      <p>This project was made possible in part by funding from the
        <a href="http://www.ust.hk">Hong Kong University of Science &amp;
          Technology</a>.
      </p>
    </div>

    <div id="learn-dialog">
      <h2>Learn More &amp; Join the Community</h2>
      <p>Scientists at Stanford University and around the world
        utilize your donated computer time to better understand and develop
        cures for some of humanity's worst diseases. Simply by running
        Folding@home software you are aiding research for Alzheimer's,
        Huntington's, and many cancers.</p>

      <p>People like you, from all over the globe, currently
        donate the unused power of over a quarter of a million computers,
        forming the world's most powerful distributed super-computer.</p>

      <h4>The Science</h4>
      <p>Proteins help fight disease by first assembling themselves or
        "folding". When proteins misfold, there can be serious health
        consequences.</p>
      <p>If we better understand protein misfolding we can design drugs and
        therapies to combat these illnesses.</p>
      <p>See our <a href="http://folding.stanford.edu/home/the-science/"
                    >Folding Science page</a> and the
        <a href="http://en.wikipedia.org/wiki/Protein_folding"
           >Protein Folding Wikipedia page</a>.</p>

      <h4>The Software</h4>
      <p>Folding@home software aids research by simulating protein folding.
        The calculations are immense so we break them into small "work units"
        and pass them to individual computers like yours to solve.</p>
      <p>Stanford computers assemble data from thousands of work units into
        meaningful answers to important scientific questions.</p>
      <p>See the <a href="http://en.wikipedia.org/wiki/Folding@home"
                    >Folding@home Wikipedia page</a>.</p>

      <h4>Get Involved</h4>
      <p>One of the best ways to help Folding@home is by recruiting your
        friends and family. Start by sharing our project with them.</p>
      <p>Then <a href="http://folding.stanford.edu/home/teams-stats/"
                 >join a team</a> or even
        <a href="http://fah-web.stanford.edu/cgi-bin/createteam.pl"
           >start your own team</a>. The more points you and your team earn, the
        closer we come to finding cures.</p>
      <p>Our non-profit organization also accepts
        <a href="http://folding.stanford.edu/home/donate/">donations</a>.
      </p>
    </div>

    <div title="Fold with a team" id="team-dialog">
      <p>Join a folding team and compete against other teams for points.</p>

      <p>If you have joined a team you should enter your team number above.
        Then the points you earn to be added to your team's total.</p>

      <ul>
        <li><a href="http://folding.stanford.edu/home/teams-stats/"
               >Team Stats Page</a>.</li>
      </ul>
    </div>

    <div title="Lock in your identity" id="passkey-dialog">
      <p>A passkey is a unique identifier which you can use to track your
        individual points.  It will also allow you to earn bonus points.
      </p>

      <p>Folding@home allows anyone to use any valid name to identify
        themselves. This means that if you choose a common name there are
        likely other people using it as well.</p>

      <ul>
        <li><a href="http://fah-web.stanford.edu/cgi-bin/getpasskey.py"
           >Get a Passkey</a></li>
        <li><a href="http://folding.stanford.edu/home/faq/faq-passkey/"
           >Passkey FAQ</a>.</li>
      </ul>
    </div>

    <div id="bug-submission-dialog"
         title="Submitting Bug Report. Please wait. . .">
      <img src="images/report-bug.png"/>
      <iframe id="bug-iframe" name="bug-iframe"></iframe>
    </div>

    <div id="bug-dialog" title="Submit a Bug Report">
      <img src="images/report-bug.png"/>
      <form method="post" target="bug-iframe"
            action="http://folding.stanford.edu/bugreport.php">
        <table>
          <tr><th>Name:</th><td class="user"></td>
            <input name="user" hidden="true"/>
          </tr>
          <tr>
            <th>Team:</th> <td class="team"></td>
            <input name="team" hidden="true"/>
          </tr>
          <tr>
            <th>Category:</th>
            <td>
              <select name="category">
                <option value="choose" selected>-- Please choose --</option>
                <option value="conectivity">Connectivity issue</option>
                <option value="documentation">Documentation error</option>
                <option value="enhancement">Enhancement request</option>
                <option value="overuse">Resources overutilized</option>
                <option value="underuse">Resources underutilized</option>
                <option value="cosmetic">Cosmetic defect</option>
              </select>
          </td></tr>
          <tr class="description">
            <td colspan="2"><b>Please provide a brief description:</b>
              <textarea name="description" rows="4" maxlength="1024"
                        ></textarea>
            </td>
          </tr>
        </table>
        <input name="ts" type="hidden"/>
        <input name="client" type="hidden" value="nacl"/>
      </form>
      <div id="bug-disclaimer">
        <p>
          <b>Disclaimer:</b> When you submit this form your
          Folding@home user name, team, all or portions of the log
          files produced by the Folding@home software and all the
          information you provide in this form will be stored
          indefinitely on servers at Stanford University.  Your IP
          address will be logged but not made public.  <b>Do not
            include passwords, copyrighted material or any other
            information which you do not want to be made public.
          </b>
        </p>
        <p>
          By submitting this form you acknowledge that you are
          making said information publicly available on the Internet
          and agree to let Stanford, it's partners and members of
          foldingforum.org use said information for the purpose of
          improving the Folding@home software.  The collected
          information will not be used for advertising or tracking
          your activity.  If you do not agree with these terms
          please do not submit this forum and instead press the
          Cancel button now.
        </p>
      </div>
      <p>To see a list of bug reports submitted from this IP address click
        <a href="http://folding.stanford.edu/bugreport.php">here</a>.</p>
    </div>

    <div title="Failed to load software" id="load-failed">
      <img class="icon" src="images/error.png"/>
      <p>Failed to download the necessary software to your browser.  Please
        reload the page to make another attempt.</p>
    </div>

    <div title="Failed to return results" id="wu-results-error-dialog">
      <img class="icon" src="images/error.png"/>
      <p>Failed to return Work Unit results to Folding@home servers.
        Work Server responded: <span id="ws-response"></span>.
        Please reload the page to try again.
      </p>
    </div>

    <div title="Oh, no!" id="nacl-error-dialog">
      <img class="icon" src="images/error.png"/>

      We're sorry, we could not load Folding@home in your browser.

      <ol>
        <li>Are you using the Google Chrome browser version 31 or newer?
          <p>This Folding@home Web App requires Google Native Client which is
          provided by the <a href="http://google.com/chrome/">Google Chrome
              browser</a>.  You can check to see if you have version 31 or
          better by typing <tt>chrome://version</tt> in to your address bar.</p>
        </li>

        <li>Have you enabled NaCl?
          <p>Currently you must enable Native Client manually by typing
            <tt>chrome://flags/#enable-nacl</tt> into the Chrome address bar
            and clicking <b>Enable</b>.  If it says <b>Disable</b> that means
            Native Client is already enabled.</p>
        </li>

        <li>Is NaCl debugging <em>disabled</em>?
          <p>Native Client debugging is disabled by default but if it is enabled
            it will inhibit our software from running.  To ensure debugging is
            disabled, type <tt>chrome://flags/#enable-nacl-debug</tt> into the
            Chrome address bar check the setting.</p>
        </li>

        <li>After making changes did you restarted your browser?
          <p>To make changes to the NaCl settings take effect, choose
            <b>Quit</b> from your browser menu and start again.</p>
        </li>

        <li>Are you connected to the Internet?
          <p>You must be connected to the Internet to run Folding@home.  Our
            software downloads problems to work on from scientific institutions
            around the world and uploads solutions found by your computer which
            help scientists fight disease.</p>
        </li>
      </ol>

      Or try our
      <a class="desktop" href="http://folding.stanford.edu">Desktop App
        <img src="images/link.png"/></a>.
    </div>
  </div>
  <div id="overlay"></div>
  <div id="listener">
    <script>
      var listener = document.getElementById('listener');
      listener.addEventListener('loadstart', module_loading, true);
      listener.addEventListener('progress', module_progress, true);
      listener.addEventListener('load', module_loaded, true);
      listener.addEventListener('message', handle_message, true);
      listener.addEventListener('error', module_error, true);
      listener.addEventListener('crash', module_exit, true);
    </script>
    <embed id="fahcore" src="fahcore_b0.nmf" type="application/x-nacl"/>
  </div>
</html>
